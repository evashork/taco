<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
	var xmlHttp;
	function srvTime(){
		if (window.XMLHttpRequest) {
			xmlHttp = new XMLHttpRequest(); 
			xmlHttp.open('HEAD',window.location.href.toString(),false);
			xmlHttp.setRequestHeader("Content-Type", "text/html");
			xmlHttp.send('');
			return xmlHttp.getResponseHeader("Date");
		}else if (window.ActiveXObject) {
			xmlHttp = new ActiveXObject('Msxml2.XMLHTTP');
			xmlHttp.open('HEAD',window.location.href.toString(),false);
			xmlHttp.setRequestHeader("Content-Type", "text/html");
			xmlHttp.send('');
			return xmlHttp.getResponseHeader("Date");
		}
	}
	
	var st;
	var hour = prompt("시간을 입력하세요", "1~24");
	var min = prompt("분을 입력하세요","0~59");
	var sec = prompt("초를 입력하세요","0~59");
	var nowDate;
	var thenDate = new Date();
	var mouseTarget;

	var hourInt = Number(hour);
	var minInt = Number(min);
	var secInt = Number(sec);
	thenDate.setHours(hourInt);
	thenDate.setMinutes(minInt);
	thenDate.setSeconds(secInt);
	thenDate.setMilliseconds(0);

	var x = setInterval (checkTime, 0);

	function checkTime() {
	  st = srvTime();
	  nowDate = new Date(st);
	  if(thenDate.getTime() <= nowDate.getTime()){
	    mouseTarget.click();
	   // console.log("server: "+nowDate);
	   // console.log("script: "+thenDate);	
	   // console.log("server: "+nowDate.getTime());
	   // console.log("script: "+thenDate.getTime());	
	   // clearInterval(x);
	  }
	}
	document.onmouseover = function (e){
	  var event = e || window.event;
	  var target = event.target || event.srcElement;
	  mouseTarget = target;
	}
	</script>
</head>
<body>
	<a href="http://mrcoles.com/bookmarklet/">온라인 북마클릿 생성사이트</a>
	<form id="hi">
		<button type="submit">button</button>
	</form>
</body>
</html>